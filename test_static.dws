type TCounter = class
    class var SharedCount: Integer;
    InstanceID: Integer;
    
    function Create(id: Integer): TCounter;
    begin
        InstanceID := id;
        SharedCount := SharedCount + 1;
        Result := Self;
    end;
    
    class procedure Reset; static;
    begin
        SharedCount := 0;
    end;
    
    class function GetCount: Integer; static;
    begin
        Result := SharedCount;
    end;
end;

var c1, c2: TCounter;
begin
    TCounter.Reset();
    PrintLn(TCounter.GetCount());
    
    c1 := TCounter.Create(1);
    c2 := TCounter.Create(2);
    
    PrintLn(TCounter.GetCount());
    PrintLn(c1.InstanceID);
    PrintLn(c2.InstanceID);
end;
