// Test Result initialization for interface return types

type
  IFoo = interface
    function GetValue: Integer;
  end;

  TFooImpl = class(TObject, IFoo)
    function GetValue: Integer;
  end;

function TFooImpl.GetValue: Integer;
begin
  Result := 42;
end;

// Function returning interface should initialize Result to NIL
function GetNilInterface: IFoo;
begin
  // Don't assign anything - Result should be NIL by default
end;

// Function returning interface with actual value
function GetInterface: IFoo;
begin
  Result := TFooImpl.Create;
end;

var
  intf: IFoo;
begin
  // Test NIL initialization
  intf := GetNilInterface();
  if intf = nil then
    PrintLn('NIL')  // Should print: NIL
  else
    PrintLn('NOT NIL');

  // Test actual interface return
  intf := GetInterface();
  if intf = nil then
    PrintLn('NIL')
  else
    PrintLn(intf.GetValue);  // Should print: 42
end.
